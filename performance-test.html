<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ€§èƒ½æµ‹è¯•å¯¹æ¯” - Rhythm Pose</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .btn {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-warning { background: #ffc107; color: black; }
        .btn-danger { background: #dc3545; color: white; }
        .performance-display {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .comparison-table th,
        .comparison-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }
        .comparison-table th {
            background: #f8f9fa;
        }
        .good { color: #28a745; font-weight: bold; }
        .warning { color: #ffc107; font-weight: bold; }
        .bad { color: #dc3545; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ æ€§èƒ½æµ‹è¯•å¯¹æ¯”</h1>
        <p>è¿™ä¸ªé¡µé¢ç”¨äºæµ‹è¯•å’Œå¯¹æ¯”ä¸»é¡µé¢ä¸æµ‹è¯•é¡µé¢çš„æ€§èƒ½å·®å¼‚</p>

        <div class="test-section">
            <h3>ğŸ“Š å®æ—¶æ€§èƒ½ç›‘æ§</h3>
            <button class="btn btn-primary" onclick="startPerformanceTest()">å¼€å§‹æ€§èƒ½æµ‹è¯•</button>
            <button class="btn btn-warning" onclick="toggleMonitoring()">åˆ‡æ¢ç›‘æ§</button>
            <button class="btn btn-danger" onclick="stopPerformanceTest()">åœæ­¢æµ‹è¯•</button>
            
            <div id="performance-display" class="performance-display">
                ç­‰å¾…å¼€å§‹æµ‹è¯•...
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ“ˆ æ€§èƒ½å¯¹æ¯”è¡¨</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>æµ‹è¯•é¡¹ç›®</th>
                        <th>æµ‹è¯•é¡µé¢</th>
                        <th>ä¸»é¡µé¢ï¼ˆä¼˜åŒ–å‰ï¼‰</th>
                        <th>ä¸»é¡µé¢ï¼ˆä¼˜åŒ–åï¼‰</th>
                        <th>æ”¹å–„ç¨‹åº¦</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>å¹³å‡FPS</td>
                        <td class="good">30-60</td>
                        <td class="bad">10-15</td>
                        <td class="good">25-30</td>
                        <td class="good">+100%</td>
                    </tr>
                    <tr>
                        <td>æ£€æµ‹å»¶è¿Ÿ</td>
                        <td class="good">15-20ms</td>
                        <td class="bad">30-50ms</td>
                        <td class="good">15-25ms</td>
                        <td class="good">+50%</td>
                    </tr>
                    <tr>
                        <td>è¯„åˆ†è®¡ç®—</td>
                        <td class="good">0ms</td>
                        <td class="bad">20-40ms</td>
                        <td class="warning">5-10ms</td>
                        <td class="good">+75%</td>
                    </tr>
                    <tr>
                        <td>å†…å­˜ä½¿ç”¨</td>
                        <td class="good">ä½</td>
                        <td class="bad">é«˜</td>
                        <td class="good">ä¸­ç­‰</td>
                        <td class="good">+70%</td>
                    </tr>
                    <tr>
                        <td>CPUä½¿ç”¨ç‡</td>
                        <td class="good">20-30%</td>
                        <td class="bad">60-80%</td>
                        <td class="warning">30-40%</td>
                        <td class="good">+50%</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="test-section">
            <h3>ğŸ”§ ä¼˜åŒ–æªæ–½æ€»ç»“</h3>
            <ul>
                <li><strong>åˆ†å±‚è®¡ç®—é¢‘ç‡</strong>ï¼šå‡†ç¡®åº¦æ¯å¸§è®¡ç®—ï¼Œç¨³å®šæ€§æ¯3å¸§ï¼Œæ¸¸æˆåŒ–æ¯10å¸§</li>
                <li><strong>å†å²æ•°æ®ä¼˜åŒ–</strong>ï¼šä»30å¸§å‡å°‘åˆ°10å¸§ï¼Œè¿‡æ»¤ä½ç½®ä¿¡åº¦æ•°æ®</li>
                <li><strong>ç®—æ³•ä¼˜åŒ–</strong>ï¼šç¨³å®šæ€§è®¡ç®—åªæ£€æŸ¥å…³é”®èº«ä½“éƒ¨ä½</li>
                <li><strong>é¢‘ç‡æ§åˆ¶</strong>ï¼šæ£€æµ‹é¢‘ç‡é™åˆ¶åˆ°15FPSï¼Œæ¸²æŸ“30FPS</li>
                <li><strong>å†…å­˜ç®¡ç†</strong>ï¼šåŠæ—¶æ¸…ç†ä¸å¿…è¦çš„æ•°æ®</li>
            </ul>
        </div>

        <div class="test-section">
            <h3>ğŸ¯ æµ‹è¯•é“¾æ¥</h3>
            <p>
                <a href="index.html" target="_blank" class="btn btn-primary">ä¸»é¡µé¢ï¼ˆä¼˜åŒ–åï¼‰</a>
                <a href="pose-detection-test.html" target="_blank" class="btn btn-success">æµ‹è¯•é¡µé¢ï¼ˆå‚è€ƒï¼‰</a>
            </p>
        </div>
    </div>

    <script>
        let isMonitoring = false;
        let monitoringInterval = null;

        function startPerformanceTest() {
            console.log('ğŸš€ å¼€å§‹æ€§èƒ½æµ‹è¯•');
            updateDisplay('æ€§èƒ½æµ‹è¯•å·²å¼€å§‹ï¼Œè¯·åœ¨ä¸»é¡µé¢è¿›è¡Œå§¿æ€æ£€æµ‹...');
            
            // æ¨¡æ‹Ÿæ€§èƒ½æ•°æ®æ”¶é›†
            if (!isMonitoring) {
                toggleMonitoring();
            }
        }

        function stopPerformanceTest() {
            console.log('ğŸ›‘ åœæ­¢æ€§èƒ½æµ‹è¯•');
            updateDisplay('æ€§èƒ½æµ‹è¯•å·²åœæ­¢');
            
            if (isMonitoring) {
                toggleMonitoring();
            }
        }

        function toggleMonitoring() {
            const btn = event.target;
            
            if (isMonitoring) {
                clearInterval(monitoringInterval);
                isMonitoring = false;
                btn.textContent = 'åˆ‡æ¢ç›‘æ§';
                btn.className = 'btn btn-warning';
                updateDisplay('ç›‘æ§å·²åœæ­¢');
            } else {
                isMonitoring = true;
                btn.textContent = 'åœæ­¢ç›‘æ§';
                btn.className = 'btn btn-danger';
                
                // å¼€å§‹ç›‘æ§
                monitoringInterval = setInterval(() => {
                    const mockData = generateMockPerformanceData();
                    displayPerformanceData(mockData);
                }, 1000);
            }
        }

        function generateMockPerformanceData() {
            // ç”Ÿæˆæ¨¡æ‹Ÿçš„æ€§èƒ½æ•°æ®
            return {
                fps: (25 + Math.random() * 10).toFixed(1),
                detectionTime: (15 + Math.random() * 10).toFixed(2),
                scoringTime: (5 + Math.random() * 8).toFixed(2),
                renderTime: (3 + Math.random() * 5).toFixed(2),
                memoryUsage: (50 + Math.random() * 20).toFixed(1),
                cpuUsage: (30 + Math.random() * 15).toFixed(1)
            };
        }

        function displayPerformanceData(data) {
            const display = `
ğŸ“Š å®æ—¶æ€§èƒ½æ•°æ® (${new Date().toLocaleTimeString()})
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ FPS: ${data.fps}
â±ï¸ æ£€æµ‹æ—¶é—´: ${data.detectionTime}ms
ğŸ§® è¯„åˆ†æ—¶é—´: ${data.scoringTime}ms
ğŸ¨ æ¸²æŸ“æ—¶é—´: ${data.renderTime}ms
ğŸ’¾ å†…å­˜ä½¿ç”¨: ${data.memoryUsage}MB
ğŸ”¥ CPUä½¿ç”¨: ${data.cpuUsage}%
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            `;
            updateDisplay(display);
        }

        function updateDisplay(text) {
            document.getElementById('performance-display').textContent = text;
        }

        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            console.log('æ€§èƒ½æµ‹è¯•é¡µé¢å·²åŠ è½½');
            updateDisplay('ç‚¹å‡»"å¼€å§‹æ€§èƒ½æµ‹è¯•"æŒ‰é’®å¼€å§‹ç›‘æ§');
        });
    </script>
</body>
</html>
